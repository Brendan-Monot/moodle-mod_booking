define("mod_booking/rulesform",["exports","core_form/dynamicform","core/str","core/notification"],(function(_exports,_dynamicform,_str,_notification){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/*
   * @package    mod_booking
   * @author     Bernhard Fischer
   * @copyright  Wunderbyte GmbH <info@wunderbyte.at>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
/**
   * Dynamic semesters form.
   *
   * @module     mod_booking/rulesform
   * @copyright  2022 Wunderbyte GmbH
   * @author     Georg MaiÃŸer
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_dynamicform=_interopRequireDefault(_dynamicform),_notification=_interopRequireDefault(_notification);_exports.init=formClass=>{console.log("init in rules form called",formClass);const element=document.querySelector("[data-region='rulesform']"),formargs={},form=new _dynamicform.default(element,formClass);form.load(),console.log("init",element,form),form.addEventListener(form.events.FORM_SUBMITTED,(e=>{e.preventDefault();const response=e.detail;form.load(formargs,response),(0,_str.get_string)("allchangessaved","mod_booking").then((message=>{_notification.default.addNotification({message:message,type:"success"})})).catch((e=>{console.log(e)}))})),form.addEventListener(form.events.FORM_CANCELLED,(e=>{e.preventDefault(),form.notifyResetFormChanges().then((()=>form.load(formargs)))}))}}));

//# sourceMappingURL=rulesform.min.js.map