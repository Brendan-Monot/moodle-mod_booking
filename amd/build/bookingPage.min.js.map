{"version":3,"file":"bookingPage.min.js","sources":["../src/bookingPage.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * @module     mod_booking/bookingPage\n * @copyright  Wunderbyte GmbH <info@wunderbyte.at>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport {continueToNextPage} from 'mod_booking/bookit';\n\nvar SELECTORS = {\n    MODALID: 'sbPrePageModal_',\n    BOOKITBUTTON: 'div.booking-button-area',\n};\n\n/**\n * This handles JS on the bookit page.\n * @param {integer} optionid\n */\nexport const init = (optionid) => {\n\n    // eslint-disable-next-line no-console\n    console.log('bookingPagejs', optionid);\n\n    // First, we get the right modal.\n    let modal = document.querySelector(\"[id^=\" + SELECTORS.MODALID + optionid + \"]\");\n\n    // eslint-disable-next-line no-console\n    console.log('elemodalments', optionid);\n\n    // Within the modal, we only want to add the listener on the bookit button with option area.\n    const selector = SELECTORS.BOOKITBUTTON +\n    '[data-itemid]' +\n    '[data-area=\"option\"]';\n\n    const button = modal.querySelector(selector);\n\n    // eslint-disable-next-line no-console\n    console.log('button', optionid);\n\n    button.addEventListener('click', e => {\n\n        // eslint-disable-next-line no-console\n        console.log(e.target);\n\n        continueToNextPage(optionid);\n    });\n};"],"names":["SELECTORS","optionid","console","log","modal","document","querySelector","selector","button","addEventListener","e","target"],"mappings":";;;;;;IAuBIA,kBACS,kBADTA,uBAEc,wCAOGC,WAGjBC,QAAQC,IAAI,gBAAiBF,cAGzBG,MAAQC,SAASC,cAAc,QAAUN,kBAAoBC,SAAW,KAG5EC,QAAQC,IAAI,gBAAiBF,gBAGvBM,SAAWP,uBAAAA,oCAIXQ,OAASJ,MAAME,cAAcC,UAGnCL,QAAQC,IAAI,SAAUF,UAEtBO,OAAOC,iBAAiB,SAASC,IAG7BR,QAAQC,IAAIO,EAAEC,uCAEKV"}