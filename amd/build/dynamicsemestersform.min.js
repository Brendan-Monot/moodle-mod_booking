define("mod_booking/dynamicsemestersform",["exports","core_form/dynamicform"],(function(_exports,_dynamicform){var obj;
/*
   * @package    mod_booking
   * @author     Bernhard Fischer
   * @copyright  Wunderbyte GmbH <info@wunderbyte.at>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
/**
   * Dynamic semesters form.
   *
   * @module     mod_booking/dynamicsemestersform
   * @copyright  2022 Wunderbyte GmbH
   * @author     Bernhard Fischer
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_dynamicform=(obj=_dynamicform)&&obj.__esModule?obj:{default:obj};_exports.init=(selector,formClass,existingsemesters)=>{(function(selector){return new Promise((resolve=>{if(document.querySelector(selector))return resolve(document.querySelector(selector));const observer=new MutationObserver((()=>{document.querySelector(selector)&&(resolve(document.querySelector(selector)),observer.disconnect())}));observer.observe(document.body,{childList:!0,subtree:!0})}))})(selector).then((elm=>{console.log("form element loaded: ",elm);const form=new _dynamicform.default(elm,formClass);console.log("form element created: ",form),form.addEventListener(form.events.FORM_SUBMITTED,(e=>{e.preventDefault();const response=e.detail;form.load({...existingsemesters,response:response}),console.log("form submitted")})),form.addEventListener(form.events.FORM_CANCELLED,(e=>{e.preventDefault(),form.notifyResetFormChanges().then((()=>form.load(existingsemesters))),console.log("form cancelled")}))}))}}));

//# sourceMappingURL=dynamicsemestersform.min.js.map