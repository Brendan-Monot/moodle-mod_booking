{"version":3,"file":"subbookingAdditionalPerson.min.js","sources":["../src/subbookingAdditionalPerson.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * @module     mod_booking/subbookingAdditionalPerson\n * @copyright  Wunderbyte GmbH <info@wunderbyte.at>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport DynamicForm from 'core_form/dynamicform';\n\nconst SELECTOR = {\n    FORMCONTAINER: '.subbooking-additionalperson-form',\n};\n\n/**\n * Init function.\n */\nexport function init() {\n\n    const container = document.querySelector(SELECTOR.FORMCONTAINER);\n\n    const id = container.dataset.id;\n\n    // eslint-disable-next-line no-console\n    console.log('subbookingAdditionalPerson', container, id);\n\n    const dynamicForm = new DynamicForm(container, 'mod_booking\\\\form\\\\subbooking_additionalperson_form');\n\n    dynamicForm.addEventListener(dynamicForm.events.FORM_SUBMITTED, e => {\n        const response = e.detail;\n        // eslint-disable-next-line no-console\n        console.log(response);\n        dynamicForm.container.innerHTML = '';\n    });\n\n    dynamicForm.addEventListener('change', e => {\n\n        // eslint-disable-next-line no-console\n        console.log(e);\n\n        const button = document.querySelector('.subbooking-additionalperson-form [data-no-submit=\"1\"]');\n\n        dynamicForm.processNoSubmitButton(button);\n    });\n\n    // eslint-disable-next-line no-console\n    console.log('trigger form load');\n\n    dynamicForm.load({id: id});\n\n    document.addEventListener(\"DOMContentLoaded\", () => {\n        // eslint-disable-next-line no-console\n        console.log(\"Hello World!\");\n      });\n}"],"names":["container","document","querySelector","SELECTOR","id","dataset","console","log","dynamicForm","DynamicForm","addEventListener","events","FORM_SUBMITTED","e","response","detail","innerHTML","button","processNoSubmitButton","load"],"mappings":";;;;;4FAgCUA,UAAYC,SAASC,cAAcC,wBAEnCC,GAAKJ,UAAUK,QAAQD,GAG7BE,QAAQC,IAAI,6BAA8BP,UAAWI,UAE/CI,YAAc,IAAIC,qBAAYT,UAAW,uDAE/CQ,YAAYE,iBAAiBF,YAAYG,OAAOC,gBAAgBC,UACtDC,SAAWD,EAAEE,OAEnBT,QAAQC,IAAIO,UACZN,YAAYR,UAAUgB,UAAY,MAGtCR,YAAYE,iBAAiB,UAAUG,IAGnCP,QAAQC,IAAIM,SAENI,OAAShB,SAASC,cAAc,0DAEtCM,YAAYU,sBAAsBD,WAItCX,QAAQC,IAAI,qBAEZC,YAAYW,KAAK,CAACf,GAAIA,KAEtBH,SAASS,iBAAiB,oBAAoB,KAE1CJ,QAAQC,IAAI,4FA1CdJ,uBACa"}