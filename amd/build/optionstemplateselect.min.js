/*! amd 2021-07-02 */

define(["jquery","core/ajax"],function(o,e){return{init:function(){o("#id_optiontemplateid").change(function(){""!=o("#id_optiontemplateid").val()&&e.call([{methodname:"mod_booking_optiontemplate",args:{id:o("#id_optiontemplateid").val()},done:function(e){var i=o.parseJSON(e.template);o("#id_text").val(i.text),o("#id_location").val(i.location),o("#id_institution").val(i.institution),o("#id_address").val(i.address),o("#id_limitanswers").is(":checked")!=(0!=i.bookingclosingtime)&&o("#id_limitanswers").trigger("click"),o("#id_maxanswers").val(i.maxanswers),o("#id_maxoverbooking").val(i.maxoverbooking),o("#id_restrictanswerperiod").is(":checked")!=(0!=i.bookingclosingtime)&&o("#id_restrictanswerperiod").trigger("click");e=new Date(1e3*i.bookingclosingtime);o("#id_bookingclosingtime_day").val(e.getDate()),o("#id_bookingclosingtime_month").val(e.getMonth()+1),o("#id_bookingclosingtime_year").val(e.getFullYear()),o("#id_bookingclosingtime_hour").val(e.getHours()),o("#id_bookingclosingtime_minute").val(e.getMinutes()),o("#id_courseid").val(i.courseid);var t=i.duration;switch(!0){case t<60:o("#id_duration_number").val(t),o("#id_duration_timeunit").val(1);break;case t<3600:o("#id_duration_number").val(t/60),o("#id_duration_timeunit").val(60);break;case t<86400:o("#id_duration_number").val(t/3600),o("#id_duration_timeunit").val(3600);break;case t<604800:o("#id_duration_number").val(t/86400),o("#id_duration_timeunit").val(86400);break;default:o("#id_duration_number").val(t/604800),o("#id_duration_timeunit").val(604800)}o("#id_startendtimeknown").is(":checked")!=(0!=i.coursestarttime)&&o("#id_startendtimeknown").trigger("click"),o("#id_addtocalendar").val(i.addtocalendar);e=new Date(1e3*i.coursestarttime);o("#id_coursestarttime_day").val(e.getDate()),o("#id_coursestarttime_month").val(e.getMonth()+1),o("#id_coursestarttime_year").val(e.getFullYear()),o("#id_coursestarttime_hour").val(e.getHours()),o("#id_coursestarttime_minute").val(e.getMinutes()),o("#id_enrolmentstatus").is(":checked")!=(0!=i.enrolmentstatus)&&o("#id_enrolmentstatus").trigger("click");e=new Date(1e3*i.courseendtime);o("#id_courseendtime_day").val(e.getDate()),o("#id_courseendtime_month").val(e.getMonth()+1),o("#id_courseendtime_year").val(e.getFullYear()),o("#id_courseendtime_hour").val(e.getHours()),o("#id_courseendtime_minute").val(e.getMinutes()),o("#id_descriptioneditable").html(i.description),o("#id_pollurl").val(i.pollurl),o("#id_pollurlteachers").val(i.pollurlteachers),o("#id_howmanyusers").val(i.howmanyusers),o("#id_removeafterminutes").val(i.removeafterminutes),o("#id_notificationtexteditable").html(i.notificationtext),o("#id_disablebookingusers").val(i.disablebookingusers),o("#id_beforebookedtexteditable").html(i.beforebookedtext),o("#id_beforecompletedtexteditable").html(i.beforecompletedtext),o("#id_aftercompletedtexteditable").html(i.aftercompletedtext),o("#fitem_id_location .form-autocomplete-downarrow").trigger("click"),o("#fitem_id_institution .form-autocomplete-downarrow").trigger("click"),o("#fitem_id_courseid .badge").trigger("click"),o("#id_optiontemplateid").trigger("click"),o("#fitem_id_courseendtime .icon").trigger("click"),o("#fitem_id_courseendtime .icon").trigger("click")}}],!0)})}}});