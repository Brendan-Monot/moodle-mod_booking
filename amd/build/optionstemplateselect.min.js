/*! amd 2021-07-01 */

define(["jquery","core/ajax"],function(t,e){return{init:function(){t("#id_optiontemplateid").change(function(){""!=t("#id_optiontemplateid").val()&&e.call([{methodname:"mod_booking_optiontemplate",args:{id:t("#id_optiontemplateid").val()},done:function(e){e=t.parseJSON(e.template);t("#id_text").val(e.text),t("#id_location").val(e.location),t("#id_institution").val(e.institution),t("#id_address").val(e.address),t("#id_limitanswers").is(":checked")!=(0!=e.bookingclosingtime)&&t("#id_limitanswers").trigger("click"),t("#id_maxanswers").val(e.maxanswers),t("#id_maxoverbooking").val(e.maxoverbooking),t("#id_restrictanswerperiod").is(":checked")!=(0!=e.bookingclosingtime)&&t("#id_restrictanswerperiod").trigger("click"),t("#id_courseid").val(e.courseid),t("#id_startendtimeknown").is(":checked")!=(0!=e.coursestarttime)&&t("#id_startendtimeknown").trigger("click"),t("#id_addtocalendar").is(":checked")!=(0!=e.addtocalendar)&&t("#id_addtocalendar").trigger("click");var i=e.duration;switch(!0){case i<60:t("#id_duration_number").val(i),t("#id_duration_timeunit").val(1);break;case i<3600:t("#id_duration_number").val(i/60),t("#id_duration_timeunit").val(60);break;case i<86400:t("#id_duration_number").val(i/3600),t("#id_duration_timeunit").val(3600);break;case i<604800:t("#id_duration_number").val(i/86400),t("#id_duration_timeunit").val(86400);break;default:t("#id_duration_number").val(i/604800),t("#id_duration_timeunit").val(604800)}t("#id_enrolmentstatus").is(":checked")!=(0!=e.enrolmentstatus)&&t("#id_enrolmentstatus").trigger("click"),t("#id_descriptioneditable").html(e.description),t("#id_pollurl").val(e.pollurl),t("#id_pollurlteachers").val(e.pollurlteachers),t("#id_howmanyusers").val(e.howmanyusers),t("#id_removeafterminutes").val(e.removeafterminutes),t("#id_notificationtexteditable").html(e.notificationtext),t("#id_disablebookingusers").val(e.disablebookingusers),t("#id_beforebookedtexteditable").html(e.beforebookedtext),t("#id_beforecompletedtexteditable").html(e.beforecompletedtext),t("#id_aftercompletedtexteditable").html(e.aftercompletedtext),t(".form-autocomplete-downarrow").trigger("click"),t("#fitem_id_courseid .badge").trigger("click")}}],!0)})}}});